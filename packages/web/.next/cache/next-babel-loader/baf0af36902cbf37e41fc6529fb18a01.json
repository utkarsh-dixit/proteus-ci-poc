{"ast":null,"code":"\"use strict\";\n\nvar _Object$values = require(\"@babel/runtime-corejs2/core-js/object/values\");\n\nvar _Object$assign = require(\"@babel/runtime-corejs2/core-js/object/assign\");\n\nvar _Array$isArray = require(\"@babel/runtime-corejs2/core-js/array/is-array\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\");\n\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n\nexports.__esModule = true;\nexports.default = createStyleResolver;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    var ownKeys = _Object$keys(source);\n\n    if (typeof _Object$getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(_Object$getOwnPropertySymbols(source).filter(function (sym) {\n        return _Object$getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar emptyObject = {};\n\nfunction createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet.default)((0, _createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    (0, _modality.default)(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules.default.forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle.default)((0, _i18nStyle.default)((0, _flattenStyle.default)(id)));\n      var results = (0, _compile.atomic)(style);\n\n      _Object$keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (_Array$isArray(classList)) {\n      (0, _flattenArray.default)(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!_Array$isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = (0, _flattenArray.default)(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes, accounting for\n   * the existing styles applied to the DOM node.\n   *\n   * To determine the next style, some of the existing DOM state must be\n   * converted back into React Native styles.\n   */\n\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style; // Convert the DOM classList back into a React Native form\n    // Preserves unrecognized class names.\n\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style; // Create next DOM style props from current and next RN styles\n\n\n    var _resolve = resolve([(0, _i18nStyle.default)(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style; // Final className\n    // Add the current class names not managed by React Native\n\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList)); // Final style\n    // Next class names take priority over current inline styles\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    }); // Next inline styles take priority over current inline styles\n\n    _Object$assign(style, rdomStyleNext);\n\n    return {\n      className: className,\n      style: style\n    };\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var localizedStyle = (0, _createCompileableStyle.default)((0, _i18nStyle.default)(flatStyle)); // slower: convert style object to props and cache\n\n    var props = _Object$keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n\n            _Object$values(a).forEach(function (_ref) {\n              var identifier = _ref.identifier,\n                  rules = _ref.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n\n      _Object$keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n\n        _Object$values(compiled).forEach(function (_ref2) {\n          var identifier = _ref2.identifier,\n              rules = _ref2.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n/**\n * Misc helpers\n */\n\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n/**\n * Copies classList and style data from a DOM node\n */\n\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {}; // DOM style is a CSSStyleDeclaration\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      // DOM style uses hyphenated prop names and may include vendor prefixes\n      // Transform back into React DOM style.\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};\n\nmodule.exports = exports.default;","map":{"version":3,"sources":["/Users/utkarsh/Desktop/headout/ReactNativeOne/node_modules/react-native-web/dist/cjs/exports/StyleSheet/createStyleResolver.js"],"names":["exports","__esModule","default","createStyleResolver","_ExecutionEnvironment","require","_createCSSStyleSheet","_interopRequireDefault","_createCompileableStyle","_createOrderedCSSStyleSheet","_flattenArray","_flattenStyle","_I18nManager","_i18nStyle","_compile","_initialRules","_modality","_constants","obj","_objectSpread","target","i","arguments","length","source","ownKeys","concat","filter","sym","enumerable","forEach","key","_defineProperty","value","configurable","writable","emptyObject","inserted","sheet","lookup","resolved","css","ltr","rtl","rtlNoSwap","init","STYLE_ELEMENT_ID","byClassName","byProp","rule","insert","STYLE_GROUPS","modality","reset","addToLookup","className","prop","getClassName","val","stringifyValueWithProperty","cache","hasOwnProperty","_injectRegisteredStyle","id","doLeftAndRightSwapInRTL","isRTL","dir","style","results","atomic","_results$key","identifier","property","rules","group","custom","resolve","classList","nextClassList","props","item","push","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","_key","apply","finalProps","classListToString","resolveWithNode","rnStyleNext","node","getDeclaration","_getDOMStyleInfo","getDOMStyleInfo","rdomClassList","rdomStyle","_rdomClassList$reduce","reduce","styleProps","_getDeclaration","rnClassList","rnStyle","_resolve","rdomClassListNext","rdomStyleNext","_getDeclaration2","flatStyle","localizedStyle","sort","styleProp","_atomic","a","_ref","inline","getStyleSheet","textContent","getTextContent","canUseDOM","createCSS","result","name","compiled","classic","_ref2","prefix","list","join","trim","hyphenPattern","toCamelCase","str","replace","m","toUpperCase","nodeStyle","Array","prototype","slice","call","getPropertyValue","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = createStyleResolver;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar emptyObject = {};\n\nfunction createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet.default)((0, _createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    (0, _modality.default)(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules.default.forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle.default)((0, _i18nStyle.default)((0, _flattenStyle.default)(id)));\n      var results = (0, _compile.atomic)(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      (0, _flattenArray.default)(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = (0, _flattenArray.default)(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes, accounting for\n   * the existing styles applied to the DOM node.\n   *\n   * To determine the next style, some of the existing DOM state must be\n   * converted back into React Native styles.\n   */\n\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style; // Convert the DOM classList back into a React Native form\n    // Preserves unrecognized class names.\n\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style; // Create next DOM style props from current and next RN styles\n\n\n    var _resolve = resolve([(0, _i18nStyle.default)(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style; // Final className\n    // Add the current class names not managed by React Native\n\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList)); // Final style\n    // Next class names take priority over current inline styles\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    }); // Next inline styles take priority over current inline styles\n\n    Object.assign(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var localizedStyle = (0, _createCompileableStyle.default)((0, _i18nStyle.default)(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.values(a).forEach(function (_ref) {\n              var identifier = _ref.identifier,\n                  rules = _ref.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n        Object.values(compiled).forEach(function (_ref2) {\n          var identifier = _ref2.identifier,\n              rules = _ref2.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n/**\n * Misc helpers\n */\n\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n/**\n * Copies classList and style data from a DOM node\n */\n\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {}; // DOM style is a CSSStyleDeclaration\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      // DOM style uses hyphenated prop names and may include vendor prefixes\n      // Transform back into React DOM style.\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};\n\nmodule.exports = exports.default;"]},"metadata":{},"sourceType":"script"}