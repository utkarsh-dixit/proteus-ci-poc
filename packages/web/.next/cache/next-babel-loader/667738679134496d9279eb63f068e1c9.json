{"ast":null,"code":"import { requestAPICall } from \"../util/network\";\nimport { changeNetworkStatus } from \"./miscActions\";\nexport const ADD_PRODUCTS_IN_CATEGORIES = \"ADD_PRODUCTS_IN_CATEGORIES\";\nexport const ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH = \"ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH\";\nexport const getProductsFromCategory = (category_id, offset = 0, limit = 5) => async dispatch => {\n  try {\n    const result = await requestAPICall(\"api/v1/product/listing/list-by/category?categoryId=\".concat(category_id, \"&offset=\").concat(offset, \"&limit=\").concat(limit), {}, changeNetworkStatus, dispatch);\n    return dispatch({\n      type: ADD_PRODUCTS_IN_CATEGORIES,\n      products: result.data.items,\n      category_id\n    });\n  } catch (error) {\n    return false;\n  }\n};\nexport const getProductsFromCategoryInBatch = (category_ids, offset = 0, limit = 5) => async dispatch => {\n  try {\n    const out = {};\n\n    for (let id of category_ids) {\n      try {\n        const result = await requestAPICall(\"api/v1/product/listing/list-by/category?categoryId=\".concat(id, \"&offset=\").concat(offset, \"&limit=\").concat(limit), {}, changeNetworkStatus, dispatch);\n        out[id] = [];\n        out[id] = [...out[id], ...result.data.items];\n      } catch (error) {\n        console.error(error);\n      } // console.log(result);\n\n    }\n\n    return dispatch({\n      type: ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH,\n      products: out\n    });\n  } catch (error) {\n    return false;\n  }\n};","map":{"version":3,"sources":["/Users/utkarsh/Desktop/headout/ReactNativeOne/packages/components/src/actions/product.js"],"names":["ADD_PRODUCTS_IN_CATEGORIES","ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH","getProductsFromCategory","offset","limit","result","requestAPICall","dispatch","type","products","category_id","getProductsFromCategoryInBatch","out","console"],"mappings":"AAAA,SAAA,cAAA,QAAA,iBAAA;AACA,SAAA,mBAAA,QAAA,eAAA;AAEA,OAAO,MAAMA,0BAA0B,GAAhC,4BAAA;AACP,OAAO,MAAMC,mCAAmC,GAAzC,qCAAA;AAEP,OAAO,MAAMC,uBAAuB,GAAG,CAAA,WAAA,EAAcC,MAAM,GAApB,CAAA,EAA0BC,KAAK,GAA/B,CAAA,KAAwC,MAAA,QAAA,IAAoB;AAC/F,MAAI;AACA,UAAMC,MAAM,GAAG,MAAMC,cAAc,CAAA,sDAAA,MAAA,CAAA,WAAA,EAAA,UAAA,EAAA,MAAA,CAAA,MAAA,EAAA,SAAA,EAAA,MAAA,CAAA,KAAA,CAAA,EAAA,EAAA,EAAA,mBAAA,EAAnC,QAAmC,CAAnC;AAEA,WAAOC,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAN,0BAAA;AAAoCC,MAAAA,QAAQ,EAAEJ,MAAM,CAANA,IAAAA,CAA9C,KAAA;AAAiEK,MAAAA;AAAjE,KAAD,CAAf;AAHJ,GAAA,CAIE,OAAA,KAAA,EAAc;AACZ,WAAA,KAAA;AACH;AAPE,CAAA;AAUP,OAAO,MAAMC,8BAA8B,GAAG,CAAA,YAAA,EAAeR,MAAM,GAArB,CAAA,EAA2BC,KAAK,GAAhC,CAAA,KAAyC,MAAA,QAAA,IAAoB;AACvG,MAAI;AACA,UAAMQ,GAAG,GAAT,EAAA;;AACA,SAAI,IAAJ,EAAA,IAAA,YAAA,EAA2B;AACvB,UAAG;AACC,cAAMP,MAAM,GAAG,MAAMC,cAAc,CAAA,sDAAA,MAAA,CAAA,EAAA,EAAA,UAAA,EAAA,MAAA,CAAA,MAAA,EAAA,SAAA,EAAA,MAAA,CAAA,KAAA,CAAA,EAAA,EAAA,EAAA,mBAAA,EAAnC,QAAmC,CAAnC;AACAM,QAAAA,GAAG,CAAHA,EAAG,CAAHA,GAAAA,EAAAA;AACAA,QAAAA,GAAG,CAAHA,EAAG,CAAHA,GAAU,CACN,GAAGA,GAAG,CADA,EACA,CADA,EAEN,GAAGP,MAAM,CAANA,IAAAA,CAFPO,KAAU,CAAVA;AAHJ,OAAA,CAOE,OAAA,KAAA,EAAa;AACXC,QAAAA,OAAO,CAAPA,KAAAA,CAAAA,KAAAA;AATmB,OAAA,CAWvB;;AACH;;AAED,WAAON,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAN,mCAAA;AAA6CC,MAAAA,QAAQ,EAAEG;AAAvD,KAAD,CAAf;AAhBJ,GAAA,CAiBE,OAAA,KAAA,EAAc;AAEZ,WAAA,KAAA;AACH;AArBE,CAAA","sourcesContent":["import { requestAPICall } from \"../util/network\";\nimport { changeNetworkStatus } from \"./miscActions\";\n\nexport const ADD_PRODUCTS_IN_CATEGORIES = \"ADD_PRODUCTS_IN_CATEGORIES\";\nexport const ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH = \"ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH\";\n\nexport const getProductsFromCategory = (category_id, offset = 0, limit = 5) => async (dispatch) => {\n    try {\n        const result = await requestAPICall(`api/v1/product/listing/list-by/category?categoryId=${category_id}&offset=${offset}&limit=${limit}`, {}, changeNetworkStatus, dispatch);\n\n        return dispatch({ type: ADD_PRODUCTS_IN_CATEGORIES, products: result.data.items, category_id });\n    } catch (error) {\n        return false;\n    }\n};\n\nexport const getProductsFromCategoryInBatch = (category_ids, offset = 0, limit = 5) => async (dispatch) => {\n    try {\n        const out = {};\n        for(let id of category_ids){\n            try{\n                const result = await requestAPICall(`api/v1/product/listing/list-by/category?categoryId=${id}&offset=${offset}&limit=${limit}`, {}, changeNetworkStatus, dispatch);\n                out[id] = [];\n                out[id] = [\n                    ...out[id],\n                    ...result.data.items\n                ];\n            } catch(error) {\n                console.error(error);\n            }\n            // console.log(result);\n        }\n\n        return dispatch({ type: ADD_PRODUCTS_IN_CATEGORIES_IN_BATCH, products: out });\n    } catch (error) {\n\n        return false;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}