{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/utkarsh/Desktop/headout/ReactNativeOne/node_modules/components/src/App.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { StyleSheet, View, SafeAreaView, Platform, ToastAndroid, FlatList, ScrollView, Dimensions } from 'react-native';\nimport { connect } from 'react-redux';\nimport ImageSlider from \"./molecules/slider/image_slider\";\nimport CompactList from \"./molecules/list/compact_list\";\nimport HeadBar from \"./molecules/headbar\";\nimport { getAllCategories } from \"../src/actions/category\";\nimport { getProductsFromCategory, getProductsFromCategoryInBatch } from \"./actions/product\";\nimport SearchBar from \"./atoms/search_bar/index\";\nimport CategoryList from \"./molecules/list/category_list\";\nimport { shadowgiver } from \"./util/helpers\";\nimport FeedSeperator from \"./atoms/feed_seperator\";\nimport { calendar, camera, collections, account, explore } from \"./assets/icons\";\nimport StyledLink from './atoms/styled_link';\nimport CollectionList from './molecules/list/collection_list';\nimport Footer from \"./molecules/footer\";\nimport { getBanners } from \"./actions/city\";\nimport { DataProvider, LayoutProvider } from 'recyclerlistview';\n;\n;\n\nclass App extends Component {\n  // static whyDidYouRender = true\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"footerNav\", void 0);\n\n    _defineProperty(this, \"links\", void 0);\n\n    _defineProperty(this, \"dataProvider\", void 0);\n\n    this.state = {\n      slides: [],\n      categories: [],\n      top_experiences: require(\"./data/top_experiences.json\"),\n      collections: require(\"./data/collections.json\"),\n      itemToRender: 2,\n      extendedState: [],\n      search: \"\"\n    };\n    this.dataProvider = new DataProvider((a, b) => {\n      return a.name + \"_\" + a.id !== b.name + \"_\" + b.id;\n    });\n    this.footerNav = [{\n      id: \"1\",\n      icon: explore,\n      text: \"Explore\"\n    }, {\n      id: \"2\",\n      icon: collections,\n      text: \"Collections\"\n    }, {\n      id: \"3\",\n      icon: account,\n      text: \"Account\"\n    }];\n    this.links = [{\n      icon: camera,\n      text: \"Top 10 Experiences\"\n    }, {\n      icon: calendar,\n      text: \"This Week Only\"\n    }];\n    this.updateSearchValue = this.updateSearchValue.bind(this);\n    this.onSelected = this.onSelected.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getBanners();\n    this.props.getAllCategories(items => {\n      if (_Object$keys(this.props.product_items).length === 0) {\n        const ids = [];\n        items.slice(0, 9).map(category => {\n          ids.push(category.id);\n          this.props.getProductsFromCategory(category.id);\n        }); // this.props.getProductsFromCategoryInBatch(ids);\n      }\n    });\n  }\n\n  onSelected() {\n    if (Platform.OS == \"ios\" || Platform.OS == \"android\") {\n      ToastAndroid.show(\"Clicked\", ToastAndroid.LONG);\n    } else {\n      console.log(\"Clicked\");\n    }\n  }\n\n  handle_item_click(id) {\n    if (Platform.OS == \"ios\" || Platform.OS == \"android\") {\n      ToastAndroid.show(\"Clicked\", ToastAndroid.LONG);\n    } else {\n      console.log(\"Clicked\");\n    }\n  }\n\n  updateSearchValue(value) {\n    this.setState({\n      search: value\n    });\n  }\n\n  getBanners() {\n    return this.props.banners ? this.props.banners.map((value, index) => {\n      const title = value.title.replace(\" \", \"_\").toUpperCase();\n      const id = value.imageUrl.split(\"/\").slice(-1);\n      return {\n        \"code\": \"\".concat(title, \"_\").concat(id),\n        \"name\": value.title,\n        \"image\": value.imageUrl + \"?auto=compress&fm=pjpg&w=\".concat(Dimensions.get('window').width, \"&crop=faces&fit=min\")\n      };\n    }) : [];\n  }\n\n  getCategories() {\n    if (this.props.category_schema && this.props.category_schema.categories) {\n      return this.props.category_schema.categories.map((current, index) => {\n        return {\n          \"id\": current.id,\n          \"name\": current.displayName,\n          \"image\": current.cardImageUrl + \"?auto=compress&fm=pjpg&w=60&h=60&crop=faces&fit=min\"\n        };\n      });\n    } else {\n      return [];\n    }\n  }\n\n  getItems(product) {\n    return product.pageData.items.length > 0 ? product.pageData.items.map((current, index) => {\n      return {\n        id: current.id,\n        name: current.name,\n        image: current.imageUrl + \"?auto=compress&fm=pjpg&w=291&h=182&crop=faces&fit=min\",\n        category: {\n          id: current.primaryCategory.id,\n          name: current.primaryCategory.displayName\n        },\n        ratings: {\n          avg: current.averageRating,\n          total: current.reviewCount\n        },\n        pricing: current.listingPrice.finalPrice,\n        currencyCode: current.listingPrice.currencyCode\n      };\n    }) : [];\n  }\n\n  _getProductsInCategory(id, limit = 10) {\n    const record = this.props.product_items[id];\n    return record ? record.map(product => {\n      return {\n        id: product.id,\n        name: product.name,\n        image: product.image.url,\n        category: {\n          id: product.primaryCategory.id,\n          name: product.primaryCategory.name\n        },\n        ratings: {\n          avg: product.ratingCumulative.avg,\n          total: product.ratingCumulative.count\n        },\n        pricing: product.pricing.minimumPrice.finalPrice,\n        currencyCode: product.currency.code\n      };\n    }, []).slice(0, limit) : [];\n  }\n\n  getListOfCagegories(categories) {\n    const renderListContainer = ({\n      item,\n      index\n    }) => {\n      // if (index + 1 <= this.state.itemToRender || Platform.OS == \"web\") {\n      // No infinte looad for web\n      const data = this._getProductsInCategory(item.id, 10);\n\n      return data.length > 0 ? __jsx(CompactList, {\n        style: styles.cListAbs,\n        itemCallback: this.handle_item_click,\n        title: item.name,\n        key: \"cat_\".concat(item.id),\n        items: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }) : null; // }\n    };\n\n    const d = this.dataProvider.cloneWithRows(categories);\n    const layoutProvider = new LayoutProvider(index => {\n      return 0;\n    }, (type, dimension) => {\n      dimension.height = 400;\n      dimension.width = Dimensions.get('window').width;\n    });\n    return __jsx(FlatList, {\n      data: categories,\n      renderItem: renderListContainer,\n      removeClippedSubviews: true,\n      initialNumToRender: 2,\n      keyExtractor: item => {\n        return \"cat_\".concat(item.id);\n      },\n      scrollEventThrottle: 50,\n      windowSize: 3 // legacyImplementation={Platform.OS !== \"web\" ? true : false}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }) // <RecyclerListView extendedState={this.state.extendedState} style={{ flex: 1, height: 400 * categories.length}} layoutProvider={layoutProvider} dataProvider={d} rowRenderer={renderListContainer} />\n    ;\n  }\n\n  render() {\n    const banners = this.getBanners();\n    const categories = this.getCategories();\n    return __jsx(SafeAreaView, {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, __jsx(HeadBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), __jsx(ScrollView, {\n      style: styles.scrollView,\n      scrollEventThrottle: 50,\n      removeClippedSubviews: true,\n      onMomentumScrollEnd: e => {\n        const scrollPosition = e.nativeEvent.contentOffset.y;\n        const scrolViewHeight = e.nativeEvent.layoutMeasurement.height;\n        const contentHeight = e.nativeEvent.contentSize.height;\n        const isScrolledToBottom = scrolViewHeight + scrollPosition; // check if scrollView is scrolled to bottom and limit itemToRender to data length\n\n        if (isScrolledToBottom >= contentHeight - 50 && this.state.itemToRender <= categories.length) {\n          this.setState({\n            itemToRender: this.state.itemToRender + 2\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, __jsx(View, {\n      style: styles.header,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, __jsx(ImageSlider, {\n      height: 288,\n      slides: banners,\n      callback: this.onSelected,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }), __jsx(View, {\n      style: styles.searchContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, __jsx(SearchBar, {\n      placeholder: \"Search for experiences\",\n      value: this.state.search,\n      style: styles.search_bar,\n      callback: this.updateSearchValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }))), __jsx(View, {\n      style: styles.mainContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, __jsx(CategoryList, {\n      items: categories,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), __jsx(FeedSeperator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), __jsx(CompactList, {\n      items: this.getItems(this.state.top_experiences),\n      title: \"Top Experiences in New York\",\n      desc: \"Handpicked curated activities just for you\",\n      style: styles.cList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), __jsx(View, {\n      style: styles.linkContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, __jsx(StyledLink, {\n      links: this.links,\n      style: styles.link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }))), __jsx(CollectionList, {\n      items: this.state.collections,\n      title: \"Collections\",\n      style: styles.collection,\n      desc: \"Discover experiences based on these themes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }), __jsx(View, {\n      style: styles.listContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, this.getListOfCagegories(categories))), __jsx(Footer, {\n      items: this.footerNav,\n      active: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  scrollView: {\n    flex: 1,\n    // paddingTop: 50,\n    backgroundColor: \"#f7f7f7\"\n  },\n  mainContainer: {\n    flex: 1,\n    paddingLeft: 10\n  },\n  searchContainer: {\n    position: \"relative\",\n    alignItems: \"center\",\n    flex: 1,\n    top: -20\n  },\n  header: {\n    position: \"relative\"\n  },\n  search_bar: _objectSpread({\n    alignSelf: 'stretch',\n    height: 50,\n    marginLeft: 20,\n    borderRadius: 5,\n    paddingLeft: 14.98,\n    paddingRight: 55,\n    backgroundColor: \"#fff\",\n    marginRight: 20,\n    borderColor: \"transparent\"\n  }, shadowgiver(4, \"#000\", 5, 25), {\n    fontFamily: \"Avenir\" // fontWeight: this.state.search.length == 0 ? 'bold' : 'normal'\n\n  }),\n  cList: {\n    marginLeft: 10\n  },\n  link: {\n    flex: 1\n  },\n  linkContainer: {\n    marginLeft: 10,\n    marginTop: 10,\n    marginRight: 10\n  },\n  cListAbs: {\n    marginBottom: 7,\n    marginLeft: 20\n  },\n  listContainer: {\n    marginTop: 10\n  },\n  collection: {\n    marginLeft: 20\n  }\n});\n\nconst mapStateToProps = ({\n  category,\n  product,\n  city\n}) => ({\n  category_schema: category.schema,\n  banners: city.banners,\n  product_items: product.products\n});\n\nconst mapDispatchToProps = {\n  getAllCategories,\n  getProductsFromCategory,\n  getProductsFromCategoryInBatch,\n  getBanners\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/utkarsh/Desktop/headout/ReactNativeOne/node_modules/components/src/App.tsx"],"names":["React","Component","StyleSheet","View","SafeAreaView","Platform","ToastAndroid","FlatList","ScrollView","Dimensions","connect","ImageSlider","CompactList","HeadBar","getAllCategories","getProductsFromCategory","getProductsFromCategoryInBatch","SearchBar","CategoryList","shadowgiver","FeedSeperator","calendar","camera","collections","account","explore","StyledLink","CollectionList","Footer","getBanners","DataProvider","LayoutProvider","App","constructor","props","state","slides","categories","top_experiences","require","itemToRender","extendedState","search","dataProvider","a","b","name","id","footerNav","icon","text","links","updateSearchValue","bind","onSelected","componentDidMount","items","product_items","length","ids","slice","map","category","push","OS","show","LONG","console","log","handle_item_click","value","setState","banners","index","title","replace","toUpperCase","imageUrl","split","get","width","getCategories","category_schema","current","displayName","cardImageUrl","getItems","product","pageData","image","primaryCategory","ratings","avg","averageRating","total","reviewCount","pricing","listingPrice","finalPrice","currencyCode","_getProductsInCategory","limit","record","url","ratingCumulative","count","minimumPrice","currency","code","getListOfCagegories","renderListContainer","item","data","styles","cListAbs","d","cloneWithRows","layoutProvider","type","dimension","height","render","container","scrollView","e","scrollPosition","nativeEvent","contentOffset","y","scrolViewHeight","layoutMeasurement","contentHeight","contentSize","isScrolledToBottom","header","searchContainer","search_bar","mainContainer","cList","linkContainer","link","collection","listContainer","create","flex","backgroundColor","paddingLeft","position","alignItems","top","alignSelf","marginLeft","borderRadius","paddingRight","marginRight","borderColor","fontFamily","marginTop","marginBottom","mapStateToProps","city","schema","products","mapDispatchToProps"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  SafeAreaView,\n  Platform,\n  ToastAndroid,\n  FlatList,\n  ScrollView,\n  Dimensions\n} from 'react-native';\nimport { connect } from 'react-redux';\nimport ImageSlider from \"./molecules/slider/image_slider\";\nimport CompactList from \"./molecules/list/compact_list\";\nimport HeadBar from \"./molecules/headbar\";\nimport { getAllCategories } from \"../src/actions/category\";\nimport { getProductsFromCategory, getProductsFromCategoryInBatch } from \"./actions/product\";\nimport SearchBar from \"./atoms/search_bar/index\";\nimport CategoryList from \"./molecules/list/category_list\";\nimport { shadowgiver } from \"./util/helpers\";\nimport FeedSeperator from \"./atoms/feed_seperator\";\nimport { calendar, camera, collections, account, explore } from \"./assets/icons\";\nimport { bindActionCreators } from 'redux';\nimport StyledLink from './atoms/styled_link';\nimport CollectionList from './molecules/list/collection_list';\nimport Footer from \"./molecules/footer\";\nimport { getBanners } from \"./actions/city\";\nimport { DataProvider, LayoutProvider, RecyclerListView } from 'recyclerlistview';\n\ntype Props = {};\n\ninterface product {\n  id: string;\n  name: string;\n  image: string;\n  ratings: { avg: number, total: number };\n  pricing: number;\n};\n\ntype State = {\n  slides: Array<{ code: string, name: string, image: string }>\n  categories: Array<{ name: string, image: string, id: string }>\n  top_experiences: Array<any>,\n  collections: Array<{ id: number, name: string, image: string }>,\n  itemToRender: number,\n  extendedState: any,\n  search: string;\n}\n\ninterface product {\n  id: string;\n  name: string;\n  image: string;\n  category?: { id: number, name: string };\n  ratings: { avg: number, total: number };\n  pricing: number;\n  currencyCode: string;\n};\n\nclass App extends Component<any, State> {\n\n  footerNav: Array<{ id: string, icon: any, text: string }>;\n  links: Array<{ icon: any, text: string }>\n  dataProvider: DataProvider;\n  // static whyDidYouRender = true\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      slides: [],\n      categories: [],\n      top_experiences: require(\"./data/top_experiences.json\"),\n      collections: require(\"./data/collections.json\"),\n      itemToRender: 2,\n      extendedState: [],\n      search: \"\"\n    };\n    this.dataProvider = new DataProvider((a, b) => {\n      return a.name + \"_\" + a.id !== b.name + \"_\" + b.id;\n  });\n    this.footerNav = [{ id: \"1\", icon: explore, text: \"Explore\" }, { id: \"2\", icon: collections, text: \"Collections\" }, { id: \"3\", icon: account, text: \"Account\" }];\n    this.links = [{ icon: camera, text: \"Top 10 Experiences\" }, { icon: calendar, text: \"This Week Only\" }];\n    this.updateSearchValue = this.updateSearchValue.bind(this);\n    this.onSelected = this.onSelected.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.props.getBanners();\n    this.props.getAllCategories((items: any) => {\n      if (Object.keys(this.props.product_items).length === 0) {\n        const ids = [];\n        items.slice(0,9).map((category: any) => {\n          ids.push(category.id);\n          this.props.getProductsFromCategory(category.id);\n        });\n        // this.props.getProductsFromCategoryInBatch(ids);\n      }\n    });\n  }\n\n  onSelected() {\n    if (Platform.OS == \"ios\" || Platform.OS == \"android\") {\n      ToastAndroid.show(\"Clicked\", ToastAndroid.LONG);\n    } else {\n      console.log(\"Clicked\");\n    }\n  }\n\n  handle_item_click(id: any) {\n    if (Platform.OS == \"ios\" || Platform.OS == \"android\") {\n      ToastAndroid.show(\"Clicked\", ToastAndroid.LONG);\n    } else {\n      console.log(\"Clicked\");\n    }\n  }\n\n  updateSearchValue(value: string) {\n    this.setState({ search: value });\n  }\n\n  getBanners() {\n    return this.props.banners ? this.props.banners.map((value, index) => {\n      const title = value.title.replace(\" \", \"_\").toUpperCase();\n      const id = value.imageUrl.split(\"/\").slice(-1);\n      return {\n        \"code\": `${title}_${id}`,\n        \"name\": value.title,\n        \"image\": value.imageUrl + `?auto=compress&fm=pjpg&w=${Dimensions.get('window').width}&crop=faces&fit=min`\n      }\n    }) : [];\n  }\n\n  getCategories() {\n    if (this.props.category_schema && this.props.category_schema.categories) {\n      return this.props.category_schema.categories.map((current, index) => {\n        return {\n          \"id\": current.id,\n          \"name\": current.displayName,\n          \"image\": current.cardImageUrl + \"?auto=compress&fm=pjpg&w=60&h=60&crop=faces&fit=min\"\n        };\n      })\n    } else {\n      return [];\n    }\n  }\n\n  getItems(product: any) {\n    return product.pageData.items.length > 0 ? product.pageData.items.map((current, index) => {\n      return {\n        id: current.id,\n        name: current.name,\n        image: current.imageUrl + \"?auto=compress&fm=pjpg&w=291&h=182&crop=faces&fit=min\",\n        category: {\n          id: current.primaryCategory.id,\n          name: current.primaryCategory.displayName\n        },\n        ratings: { avg: current.averageRating, total: current.reviewCount },\n        pricing: current.listingPrice.finalPrice,\n        currencyCode: current.listingPrice.currencyCode\n      }\n    }) : [];\n  }\n\n  _getProductsInCategory(id, limit = 10) {\n    const record = this.props.product_items[id];\n    return record ? record.map((product: any) => {\n      return {\n        id: product.id,\n        name: product.name,\n        image: product.image.url,\n        category: {\n          id: product.primaryCategory.id,\n          name: product.primaryCategory.name\n        },\n        ratings: { avg: product.ratingCumulative.avg, total: product.ratingCumulative.count },\n        pricing: product.pricing.minimumPrice.finalPrice,\n        currencyCode: product.currency.code\n      }\n    }, []).slice(0, limit) : [];\n  }\n\n  getListOfCagegories(categories) {\n\n    const renderListContainer = ({item, index}) => {\n      // if (index + 1 <= this.state.itemToRender || Platform.OS == \"web\") {\n        // No infinte looad for web\n        const data = this._getProductsInCategory(item.id, 10);\n        return data.length > 0 ? (<CompactList style={styles.cListAbs} itemCallback={this.handle_item_click} title={item.name} key={`cat_${item.id}`} items={data}></CompactList>) : null;\n      // }\n    };\n\n    const d = this.dataProvider.cloneWithRows(categories);\n\n    const layoutProvider = new LayoutProvider(\n      index => {\n          return 0;\n      },\n      (type, dimension) => {\n          dimension.height = 400;\n          dimension.width = Dimensions.get('window').width;\n      }\n  );\n\n    return (\n      <FlatList\n        data={categories}\n        renderItem={renderListContainer}\n        removeClippedSubviews={true}\n        initialNumToRender={2}\n        keyExtractor={(item)=>{return `cat_${item.id}`;}}\n        scrollEventThrottle={50}\n        windowSize={3}\n        // legacyImplementation={Platform.OS !== \"web\" ? true : false}\n      />\n      // <RecyclerListView extendedState={this.state.extendedState} style={{ flex: 1, height: 400 * categories.length}} layoutProvider={layoutProvider} dataProvider={d} rowRenderer={renderListContainer} />\n    )\n\n  }\n\n  render() {\n    const banners = this.getBanners();\n    const categories = this.getCategories();\n    return (\n      <SafeAreaView style={styles.container} >\n        <HeadBar />\n\n        <ScrollView style={styles.scrollView} scrollEventThrottle={50} removeClippedSubviews={true} onMomentumScrollEnd={(e) => {\n          const scrollPosition = e.nativeEvent.contentOffset.y;\n          const scrolViewHeight = e.nativeEvent.layoutMeasurement.height;\n          const contentHeight = e.nativeEvent.contentSize.height;\n          const isScrolledToBottom = scrolViewHeight + scrollPosition\n          // check if scrollView is scrolled to bottom and limit itemToRender to data length\n          if (isScrolledToBottom >= (contentHeight - 50) && this.state.itemToRender <= categories.length) {\n            this.setState({ itemToRender: this.state.itemToRender + 2 })\n          }\n        }}>\n          <View style={styles.header}>\n            <ImageSlider height={288} slides={banners} callback={this.onSelected} />\n            <View style={styles.searchContainer}>\n              <SearchBar placeholder=\"Search for experiences\" value={this.state.search} style={styles.search_bar} callback={this.updateSearchValue} />\n            </View>\n          </View>\n          <View style={styles.mainContainer}>\n            <CategoryList items={categories} />\n            <FeedSeperator />\n            <CompactList items={this.getItems(this.state.top_experiences)} title=\"Top Experiences in New York\" desc=\"Handpicked curated activities just for you\" style={styles.cList}></CompactList>\n            <View style={styles.linkContainer}>\n              <StyledLink\n                links={this.links} style={styles.link} /></View>\n          </View>\n          <CollectionList items={this.state.collections} title=\"Collections\" style={styles.collection} desc=\"Discover experiences based on these themes\" />\n          <View style={styles.listContainer}>\n            {this.getListOfCagegories(categories)}\n          </View>\n        </ScrollView>\n        <Footer items={this.footerNav} active={\"1\"} >\n\n        </Footer>\n      </SafeAreaView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  scrollView: {\n    flex: 1,\n    // paddingTop: 50,\n    backgroundColor: \"#f7f7f7\"\n  },\n  mainContainer: {\n    flex: 1,\n    paddingLeft: 10\n  },\n  searchContainer: {\n    position: \"relative\",\n    alignItems: \"center\",\n    flex: 1,\n    top: -20\n  },\n  header: {\n    position: \"relative\"\n  },\n  search_bar: {\n    alignSelf: 'stretch',\n    height: 50,\n    marginLeft: 20,\n    borderRadius: 5,\n    paddingLeft: 14.98,\n    paddingRight: 55,\n    backgroundColor: \"#fff\",\n    marginRight: 20,\n    borderColor: \"transparent\",\n    ...shadowgiver(4, \"#000\", 5, 25),\n    fontFamily: \"Avenir\"\n    // fontWeight: this.state.search.length == 0 ? 'bold' : 'normal'\n  },\n  cList: {\n    marginLeft: 10\n  },\n  link: {\n    flex: 1\n  },\n  linkContainer: {\n    marginLeft: 10, marginTop: 10, marginRight: 10\n  },\n  cListAbs: {\n    marginBottom: 7, marginLeft: 20\n  },\n  listContainer: {\n    marginTop: 10\n  },\n  collection: {\n    marginLeft: 20\n  }\n});\n\n\nconst mapStateToProps = ({ category, product, city }: any) => ({\n  category_schema: category.schema,\n  banners: city.banners,\n  product_items: product.products\n});\nconst mapDispatchToProps = {\n  getAllCategories,\n  getProductsFromCategory,\n  getProductsFromCategoryInBatch,\n  getBanners\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)"]},"metadata":{},"sourceType":"module"}