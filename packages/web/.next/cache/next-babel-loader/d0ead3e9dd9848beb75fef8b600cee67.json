{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _Object$assign = require(\"@babel/runtime-corejs2/core-js/object/assign\");\n\nvar _Object$create = require(\"@babel/runtime-corejs2/core-js/object/create\");\n\nvar _Object$setPrototypeOf = require(\"@babel/runtime-corejs2/core-js/object/set-prototype-of\");\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = _Object$setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? _Object$create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = _Object$assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar RecyclerListView_1 = require(\"./RecyclerListView\");\n/**\n * This will incremently update renderAhread distance and render the page progressively.\n */\n\n\nvar ProgressiveListView =\n/** @class */\nfunction (_super) {\n  __extends(ProgressiveListView, _super);\n\n  function ProgressiveListView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ProgressiveListView.prototype.componentDidMount = function () {\n    if (_super.prototype.componentDidMount) {\n      _super.prototype.componentDidMount.call(this);\n    }\n\n    this.updateRenderAheadProgessively(this.getCurrentRenderAheadOffset());\n  };\n\n  ProgressiveListView.prototype.updateRenderAheadProgessively = function (newVal) {\n    var _this = this;\n\n    this.cancelRenderAheadUpdate(); // Cancel any pending callback.\n\n    this.renderAheadUdpateCallbackId = requestAnimationFrame(function () {\n      if (!_this.updateRenderAheadOffset(newVal)) {\n        _this.updateRenderAheadProgessively(newVal);\n      } else {\n        _this.incrementRenderAhead();\n      }\n    });\n  };\n\n  ProgressiveListView.prototype.incrementRenderAhead = function () {\n    if (this.props.maxRenderAhead && this.props.renderAheadStep) {\n      var layoutManager = this.getVirtualRenderer().getLayoutManager();\n      var currentRenderAheadOffset = this.getCurrentRenderAheadOffset();\n\n      if (layoutManager) {\n        var contentDimension = layoutManager.getContentDimension();\n        var maxContentSize = this.props.isHorizontal ? contentDimension.width : contentDimension.height;\n\n        if (currentRenderAheadOffset < maxContentSize && currentRenderAheadOffset < this.props.maxRenderAhead) {\n          var newRenderAheadOffset = currentRenderAheadOffset + this.props.renderAheadStep;\n          this.updateRenderAheadProgessively(newRenderAheadOffset);\n        }\n      }\n    }\n  };\n\n  ProgressiveListView.prototype.cancelRenderAheadUpdate = function () {\n    if (this.renderAheadUdpateCallbackId) {\n      cancelAnimationFrame(this.renderAheadUdpateCallbackId);\n    }\n  };\n\n  ProgressiveListView.defaultProps = __assign({}, RecyclerListView_1.default.defaultProps, {\n    maxRenderAhead: Number.MAX_VALUE,\n    renderAheadStep: 300,\n    renderAheadOffset: 0\n  });\n  return ProgressiveListView;\n}(RecyclerListView_1.default);\n\nexports.default = ProgressiveListView;","map":{"version":3,"sources":["../../../src/core/ProgressiveListView.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,kBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;AAKA;;;;;AAGA,IAAA,mBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAiD,EAAA,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;;AAAjD,WAAA,mBAAA,GAAA;;AA+CC;;AAtCU,EAAA,mBAAA,CAAA,SAAA,CAAA,iBAAA,GAAP,YAAA;AACI,QAAI,MAAA,CAAA,SAAA,CAAM,iBAAV,EAA6B;AACzB,MAAA,MAAA,CAAA,SAAA,CAAM,iBAAN,CAAuB,IAAvB,CAAuB,IAAvB;AACH;;AACD,SAAK,6BAAL,CAAmC,KAAK,2BAAL,EAAnC;AACH,GALM;;AAOC,EAAA,mBAAA,CAAA,SAAA,CAAA,6BAAA,GAAR,UAAsC,MAAtC,EAAoD;AAApD,QAAA,KAAA,GAAA,IAAA;;AACI,SAAK,uBAAL,GADgD,CAChB;;AAChC,SAAK,2BAAL,GAAmC,qBAAqB,CAAC,YAAA;AACrD,UAAI,CAAC,KAAI,CAAC,uBAAL,CAA6B,MAA7B,CAAL,EAA2C;AACvC,QAAA,KAAI,CAAC,6BAAL,CAAmC,MAAnC;AACH,OAFD,MAEO;AACH,QAAA,KAAI,CAAC,oBAAL;AACH;AACJ,KANuD,CAAxD;AAOH,GATO;;AAWA,EAAA,mBAAA,CAAA,SAAA,CAAA,oBAAA,GAAR,YAAA;AACI,QAAI,KAAK,KAAL,CAAW,cAAX,IAA6B,KAAK,KAAL,CAAW,eAA5C,EAA6D;AACzD,UAAM,aAAa,GAAG,KAAK,kBAAL,GAA0B,gBAA1B,EAAtB;AACA,UAAM,wBAAwB,GAAG,KAAK,2BAAL,EAAjC;;AACA,UAAI,aAAJ,EAAmB;AACf,YAAM,gBAAgB,GAAG,aAAa,CAAC,mBAAd,EAAzB;AACA,YAAM,cAAc,GAAG,KAAK,KAAL,CAAW,YAAX,GAA0B,gBAAgB,CAAC,KAA3C,GAAmD,gBAAgB,CAAC,MAA3F;;AACA,YAAI,wBAAwB,GAAG,cAA3B,IAA6C,wBAAwB,GAAG,KAAK,KAAL,CAAW,cAAvF,EAAuG;AACnG,cAAM,oBAAoB,GAAG,wBAAwB,GAAG,KAAK,KAAL,CAAW,eAAnE;AACA,eAAK,6BAAL,CAAmC,oBAAnC;AACH;AACJ;AACJ;AACJ,GAbO;;AAeA,EAAA,mBAAA,CAAA,SAAA,CAAA,uBAAA,GAAR,YAAA;AACI,QAAI,KAAK,2BAAT,EAAsC;AAClC,MAAA,oBAAoB,CAAC,KAAK,2BAAN,CAApB;AACH;AACJ,GAJO;;AAzCM,EAAA,mBAAA,CAAA,YAAA,GAAY,QAAA,CAAA,EAAA,EACnB,kBAAA,CAAA,OAAA,CAAiB,YADE,EACU;AAChC,IAAA,cAAc,EAAE,MAAM,CAAC,SADS;AAEhC,IAAA,eAAe,EAAE,GAFe;AAGhC,IAAA,iBAAiB,EAAE;AAHa,GADV,CAAZ;AA8ClB,SAAA,mBAAA;AAAC,CA/CD,CAAiD,kBAAA,CAAA,OAAjD,CAAA;;kBAAqB,mB","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecyclerListView_1 = require(\"./RecyclerListView\");\n/**\n * This will incremently update renderAhread distance and render the page progressively.\n */\nvar ProgressiveListView = /** @class */ (function (_super) {\n    __extends(ProgressiveListView, _super);\n    function ProgressiveListView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ProgressiveListView.prototype.componentDidMount = function () {\n        if (_super.prototype.componentDidMount) {\n            _super.prototype.componentDidMount.call(this);\n        }\n        this.updateRenderAheadProgessively(this.getCurrentRenderAheadOffset());\n    };\n    ProgressiveListView.prototype.updateRenderAheadProgessively = function (newVal) {\n        var _this = this;\n        this.cancelRenderAheadUpdate(); // Cancel any pending callback.\n        this.renderAheadUdpateCallbackId = requestAnimationFrame(function () {\n            if (!_this.updateRenderAheadOffset(newVal)) {\n                _this.updateRenderAheadProgessively(newVal);\n            }\n            else {\n                _this.incrementRenderAhead();\n            }\n        });\n    };\n    ProgressiveListView.prototype.incrementRenderAhead = function () {\n        if (this.props.maxRenderAhead && this.props.renderAheadStep) {\n            var layoutManager = this.getVirtualRenderer().getLayoutManager();\n            var currentRenderAheadOffset = this.getCurrentRenderAheadOffset();\n            if (layoutManager) {\n                var contentDimension = layoutManager.getContentDimension();\n                var maxContentSize = this.props.isHorizontal ? contentDimension.width : contentDimension.height;\n                if (currentRenderAheadOffset < maxContentSize && currentRenderAheadOffset < this.props.maxRenderAhead) {\n                    var newRenderAheadOffset = currentRenderAheadOffset + this.props.renderAheadStep;\n                    this.updateRenderAheadProgessively(newRenderAheadOffset);\n                }\n            }\n        }\n    };\n    ProgressiveListView.prototype.cancelRenderAheadUpdate = function () {\n        if (this.renderAheadUdpateCallbackId) {\n            cancelAnimationFrame(this.renderAheadUdpateCallbackId);\n        }\n    };\n    ProgressiveListView.defaultProps = __assign({}, RecyclerListView_1.default.defaultProps, { maxRenderAhead: Number.MAX_VALUE, renderAheadStep: 300, renderAheadOffset: 0 });\n    return ProgressiveListView;\n}(RecyclerListView_1.default));\nexports.default = ProgressiveListView;\n//# sourceMappingURL=ProgressiveListView.js.map"]},"metadata":{},"sourceType":"script"}