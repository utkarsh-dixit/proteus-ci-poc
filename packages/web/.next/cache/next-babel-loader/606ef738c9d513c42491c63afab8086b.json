{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/utkarsh/Desktop/headout/ReactNativeOne/node_modules/components/src/molecules/list/compact_list.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { StyleSheet, View, Text } from 'react-native';\nimport ProductCard from \"../../atoms/card/product_card\";\nimport { RecyclerListView, DataProvider, LayoutProvider } from \"recyclerlistview\";\n;\nexport default class CompactList extends React.Component {\n  shouldComponentUpdate(newProps) {\n    if (_JSON$stringify(newProps.items) == _JSON$stringify(this.props.items)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"dataProvider\", void 0);\n\n    _defineProperty(this, \"layoutProvider\", void 0);\n\n    _defineProperty(this, \"_rowRenderer\", void 0);\n\n    this.dataProvider = new DataProvider((a, b) => {\n      return a !== b;\n    }, index => {\n      return \"id_\".concat(props.items[index].id);\n    });\n    this.layoutProvider = new LayoutProvider(index => {\n      return 0;\n    }, (type, dimension) => {\n      dimension.height = 331;\n      dimension.width = 303;\n    });\n    this._rowRenderer = this._prepareItem.bind(this); //Since component should always render once data has changed, make data provider part of the state\n\n    this.state = {\n      dataProvider: this.dataProvider.cloneWithRows(this.props.items),\n      extendedState: {\n        ids: [] //array of ids\n\n      }\n    };\n  }\n\n  _prepareItem(index, data) {\n    return (// <View style={styles.itemContainer}>\n      __jsx(ProductCard, {\n        data: data,\n        style: styles.itemContainer,\n        width: 291,\n        height: 311,\n        callback: this.props.itemCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }) // </View>\n\n    );\n  }\n\n  extractKey(item) {\n    return item.id.toString();\n  }\n\n  getItemLayout(data, index) {\n    return {\n      length: 291,\n      offset: 304 * index,\n      index\n    };\n  }\n\n  render() {\n    return __jsx(View, {\n      style: [styles.container, this.props.style],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, __jsx(View, {\n      style: styles.heading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, __jsx(View, {\n      style: {\n        flexDirection: \"row\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, __jsx(Text, {\n      style: styles.heading_text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.props.title), __jsx(Text, {\n      style: styles.viewAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"View All\")), this.props.desc && __jsx(Text, {\n      style: styles.desc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.props.desc)), __jsx(RecyclerListView, {\n      forceNonDeterministicRendering: true,\n      extendedState: this.state.extendedState,\n      isHorizontal: true,\n      style: {\n        flex: 1,\n        minHeight: 331\n      },\n      layoutProvider: this.layoutProvider,\n      dataProvider: this.state.dataProvider,\n      rowRenderer: this._rowRenderer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }));\n  }\n\n}\n\n_defineProperty(CompactList, \"whyDidYouRender\", true);\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    minHeight: 400,\n    paddingBottom: 10\n  },\n  heading: {\n    marginTop: 24,\n    marginBottom: 20\n  },\n  itemContainer: {\n    // alignContent: \"space-around\",\n    justifyContent: \"flex-start\",\n    flex: 1,\n    height: 331,\n    backgroundColor: \"#0000\"\n  },\n  desc: {\n    color: \"rgb(84,84,84)\",\n    fontSize: 16,\n    marginTop: 12,\n    fontWeight: \"300\",\n    fontFamily: \"Avenir\"\n  },\n  viewAll: {\n    textAlign: \"right\",\n    flex: 1,\n    paddingRight: 28,\n    color: \"rgb(79, 195, 247)\",\n    fontWeight: \"400\",\n    fontFamily: \"Avenir\"\n  },\n  heading_text: {\n    fontSize: 18,\n    fontWeight: \"600\",\n    color: \"rgb(84,84,84)\",\n    lineHeight: 28,\n    fontFamily: \"Avenir\"\n  }\n});","map":{"version":3,"sources":["/Users/utkarsh/Desktop/headout/ReactNativeOne/node_modules/components/src/molecules/list/compact_list.tsx"],"names":["React","StyleSheet","View","Text","ProductCard","RecyclerListView","DataProvider","LayoutProvider","CompactList","Component","shouldComponentUpdate","newProps","items","props","constructor","dataProvider","a","b","index","id","layoutProvider","type","dimension","height","width","_rowRenderer","_prepareItem","bind","state","cloneWithRows","extendedState","ids","data","styles","itemContainer","itemCallback","extractKey","item","toString","getItemLayout","length","offset","render","container","style","heading","flexDirection","heading_text","title","viewAll","desc","flex","minHeight","create","paddingBottom","marginTop","marginBottom","justifyContent","backgroundColor","color","fontSize","fontWeight","fontFamily","textAlign","paddingRight","lineHeight"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport {\n    StyleSheet,\n    FlatList,\n    View,\n    ScrollView,\n    Dimensions,\n    Text,\n    Platform\n} from 'react-native';\nimport ProductCard from \"../../atoms/card/product_card\";\nimport { RecyclerListView, DataProvider, LayoutProvider } from \"recyclerlistview\";\n\ninterface product {\n    id: string;\n    name: string;\n    image: string;\n    category?: { id: number, name: string };\n    ratings: { avg: number, total: number };\n    pricing: number;\n    currencyCode: string;\n};\n\ntype Props = {\n    title: string;\n    desc?: string;\n    items: Array<product>;\n    style?: any;\n    itemCallback?: any;\n};\ntype State = {\n    dataProvider: any;\n    extendedState: any;\n};\n\nexport default class CompactList extends React.Component<Props, State> {\n\n    ref: any;\n    dataProvider: DataProvider;\n    layoutProvider: LayoutProvider;\n    _rowRenderer: any;\n\n    static whyDidYouRender = true\n\n    shouldComponentUpdate(newProps) {\n        if (JSON.stringify(newProps.items) == JSON.stringify(this.props.items)) {\n            return false;\n        }\n        return true;\n    }\n\n    constructor(props: Props) {\n        super(props);\n        this.dataProvider = new DataProvider((a, b) => {\n            return a !== b;\n        }, (index) => { return `id_${props.items[index].id}`; });\n        this.layoutProvider = new LayoutProvider(\n            index => {\n                return 0;\n            },\n            (type, dimension) => {\n                dimension.height = 331;\n                dimension.width = 303;\n            }\n        );\n        this._rowRenderer = this._prepareItem.bind(this);\n\n        //Since component should always render once data has changed, make data provider part of the state\n        this.state = {\n            dataProvider: this.dataProvider.cloneWithRows(this.props.items),\n            extendedState: {\n                ids: [] //array of ids\n            }\n        };\n    }\n\n    _prepareItem(index, data) {\n        return (\n            // <View style={styles.itemContainer}>\n\n            <ProductCard data={data} style={styles.itemContainer} width={291} height={311} callback={this.props.itemCallback}>\n            </ProductCard>\n            // </View>\n\n        );\n    }\n\n\n    extractKey(item) {\n        return item.id.toString();\n    }\n\n    getItemLayout(data: any, index) {\n        return { length: 291, offset: (304) * index, index }\n    }\n\n    render() {\n        return (\n            <View style={[styles.container, this.props.style]}>\n                <View style={styles.heading}>\n                    <View style={{ flexDirection: \"row\" }}>\n                        <Text style={styles.heading_text}>{this.props.title}</Text>\n                        <Text style={styles.viewAll}>View All</Text>\n                    </View>\n                    {this.props.desc && (<Text style={styles.desc}>{this.props.desc}</Text>)}\n                </View>\n                <RecyclerListView forceNonDeterministicRendering={true} extendedState={this.state.extendedState} isHorizontal={true} style={{ flex: 1, minHeight: 331 }} layoutProvider={this.layoutProvider} dataProvider={this.state.dataProvider} rowRenderer={this._rowRenderer} />\n                {/* <FlatList\n                    data={this.props.items}\n                    horizontal={true}\n                    style={{ marginLeft: -4, flexGrow: 0 }}\n                    // contentContainerStyle={{    alignItems: \"baseline\"}}\n                    getItemLayout={this.getItemLayout}\n                    renderItem={this._rowRenderer}\n                    removeClippedSubviews={true}\n                    keyExtractor={this.extractKey}\n                    initialNumToRender={4}\n                    // initialScrollIndex={0}\n                    legacyImplementation={Platform.OS !== \"web\" ? true : false}\n                    scrollEventThrottle={16}\n                /> */}\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        minHeight: 400,\n        paddingBottom: 10\n    },\n    heading: {\n        marginTop: 24,\n        marginBottom: 20\n    },\n    itemContainer: {\n        // alignContent: \"space-around\",\n        justifyContent: \"flex-start\",\n        flex: 1,\n        height: 331,\n        backgroundColor: \"#0000\"\n\n    },\n    desc: {\n        color: \"rgb(84,84,84)\",\n        fontSize: 16,\n        marginTop: 12,\n        fontWeight: \"300\",\n        fontFamily: \"Avenir\",\n    },\n    viewAll: {\n        textAlign: \"right\",\n        flex: 1,\n        paddingRight: 28,\n        color: \"rgb(79, 195, 247)\",\n        fontWeight: \"400\",\n        fontFamily: \"Avenir\",\n    },\n    heading_text: {\n        fontSize: 18,\n        fontWeight: \"600\",\n        color: \"rgb(84,84,84)\",\n        lineHeight: 28,\n        fontFamily: \"Avenir\",\n    }\n});"]},"metadata":{},"sourceType":"module"}